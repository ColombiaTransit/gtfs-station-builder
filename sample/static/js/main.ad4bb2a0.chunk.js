(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAe5JREFUeNqEk89LVFEUx7++Z+/hNI0TjaXFMKmN7QZi1CI0IQJ3Gi7cmhi0DMRFi9BahP4DbVq0DQQ3LXIlRpo/iCKlRQsTxvGpDCXDTNn8al7f87xPQ9/Ygc/jnvvu95x77zlXx8lWqxArei2oqiDqVUSIQX6SFTJJZk/KeJ28JXYFfpPnJOS1g3byijRBOwW09AAXbwKn6ynbARJzwPo08Ccva6fIfZJ2AwTJa9KJYCPQMYaGGwM47wd0namZO5kGvi+9BBbGKVsTzRPyVFcB+slD6CZwewKxO4Pw8eQFCotloERq+etC8zWkchxY7zmZu0zNG40foccJ09SNs61DzmHzFJXtQ8TXuF8z/gAId8lqCXBLxAHlMEUc9axB0fa+4QKDRM7Jupg71VytymQ4rnkGOrOUjgQwtSORjIA78kmAX6rOQCbpiKu8RMr2CvxkLdfd1VSAz45rLeDrRhaGVrlREkmWdPuDDEvSXO5S6bA8tpaB+cewMt7iTZYSS884mBf3I5lzy7gpV0PaJMjejw2kjKsoGiFUM0WKB0ysfUFu5hH3+gJOMmCYfPo3QZ3qsP22DYRtRO/aiN2z0dJrw3/JbeccGVHlP2ZyvaPkm8c7kNe4SPr+9xrFotIk5Aqpkdsmq+SdGh/YXwEGAGUQly2iFN0tAAAAAElFTkSuQmCC"},102:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4wwCCwsSL+WhZAAAANpJREFUOMud0kEuBGEUBOBvfoywGENYkzBXYCduIHEAG1ew5hQuIZyB2LDEXtygV8QkI2mb19Fp3Z3xV1LJv/ir6uW9WtCPtSDM2j4MOkTHwW0M8YEXXOOuL/EA9yg7+IUrbLaJ9/GGcqnDYPn3fYNxXTzGQ09yGy/rBqeNhF6uSyXeMYEUI5UZPEsYYUcedlOcaZhpsJrwGXfOQVEZPGeIv6Nc4AjTfy7wCRuVwWI0bF7xFCfNkbZwO6f4PM7/ByNcVJVucIbHZvKgY0ETHGIPKyjwGnUv6h9/ALhFdZUDpz63AAAAAElFTkSuQmCC"},103:function(e,t){e.exports="data:image/png;base64,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"},105:function(e,t,a){e.exports=a(225)},110:function(e,t,a){},112:function(e,t,a){},113:function(e,t,a){},114:function(e,t,a){},185:function(e,t,a){},190:function(e,t){},192:function(e,t){},225:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),s=a(32),i=a.n(s),l=a(2),r=a(3),d=a(6),p=a(5),c=a(7),h=(a(110),a(97)),u=a.n(h),m=(a(111),a(112),{Platform:0,Station:1,"Entrance/Exit":2,GenericNode:3,BoardingArea:4}),f=["Platform","Station","E/E","GN","BA"],v={NoInfo:0,Accessible:1,NotPossible:2},g=["#6898ee","#333333","#f2565c","#999999","#7ecb7d"],A={Walkway:1,Stairs:2,MovingSidewalk:3,Escalator:4,Lift:5,FareGate:6,ExitGate:7},y=["","Walkway","Stairs","MovingSidewalk","Escalator","Lift","FareGate","ExitGate"],w=["","#000000","#6898ee","#888888","#7ecb7d","#f38e1a","#9772c4","#f2565c"],S=a(50),E=a.n(S),C=a(51),b=a.n(C),k=function(){function e(){Object(l.a)(this,e)}return Object(r.a)(e,null,[{key:"getEdgeSmoothVariant",value:function(e,t){var a=e+":"+t+":1",n=e+":"+t+":2";return e>t&&(a=t+":"+e+":2",n=t+":"+e+":1"),void 0===this.edgeRoundness[a]?(this.edgeRoundness[a]=.2,this.edgeRoundness[n]=0):this.edgeRoundness[a]+=.2,{type:"curvedCW",roundness:this.edgeRoundness[a]}}},{key:"getNodeLabel",value:function(e){var t=f[e.locationType],a=e.stopName?t+' "'+e.stopName+'"':t;return 0===e.locationType?(a=t+" #"+e.stopId,e.platformCode&&(a+='\nCode: "'+e.platformCode+'"'),e.signpostedAs&&(a+='\nSignposted: "'+e.signpostedAs+'"')):2===e.locationType?e.platformCode&&(a+='\nNumber: "'+e.platformCode+'"'):4===e.locationType&&(a+="\nFor #"+e.parentStation),a}},{key:"getEdgeLabel",value:function(e){var t=y[e.pathwayMode];return e.traversalTime&&(t+="\n"+e.traversalTime+" s"),t}},{key:"convertStopToNode",value:function(t){return{id:t.stopId,label:e.getNodeLabel(t),color:g[t.locationType],x:0,y:0,image:1===t.wheelchairBoarding?E.a:2===t.wheelchairBoarding?b.a:"",shape:"circularImage",size:12,stop:t}}},{key:"attachStopToNode",value:function(t,a){return[3,4].includes(t.locationType)&&(t.wheelchairBoarding=v.NoInfo),a.label=e.getNodeLabel(t),a.color=g[t.locationType],a.shape="circularImage",a.size=12,a.image=1===t.wheelchairBoarding?E.a:2===t.wheelchairBoarding?b.a:"",a.stop=t,a}},{key:"prepareNewNode",value:function(e,t,a){return e.id=this.newStopId,e.label="",e.color=g[m.GenericNode],e.shape="circularImage",e.size=12,e.image="",e.stop={stopId:this.newStopId,stopLat:((e.y||0)-a.latX)/a.latK,stopLon:((e.x||0)-a.lonX)/a.lonK,parentStation:t[0].stopId,stopName:"",locationType:m.GenericNode,wheelchairBoarding:v.NoInfo,platformCode:"",signpostedAs:""},this.newStopId--,e}},{key:"convertPathwayToEdge",value:function(t){return{id:t.pathwayId,from:t.fromStopId,to:t.toStopId,color:{color:w[t.pathwayMode],highlight:w[t.pathwayMode]},arrows:{from:t.isBidirectional,to:!0},smooth:this.getEdgeSmoothVariant(t.fromStopId,t.toStopId),label:e.getEdgeLabel(t),pathway:t}}},{key:"attachPathwayToEdge",value:function(t,a){return a.color.color=w[t.pathwayMode],a.color.highlight=w[t.pathwayMode],a.arrows.from=t.isBidirectional,a.label=e.getEdgeLabel(t),a.pathway=t,a}},{key:"updatePathwayInEdge",value:function(e){return e.pathway.fromStopId=e.from,e.pathway.toStopId=e.to,e}},{key:"prepareNewEdge",value:function(e){return e.id=this.newPathwayId,e.color={color:w[A.Walkway],highlight:w[A.Walkway]},e.arrows={from:!0,to:!0},e.label="",e.pathway={pathwayId:this.newPathwayId,traversalTime:10,fromStopId:e.from,toStopId:e.to,pathwayMode:A.Walkway,isBidirectional:!0,signpostedAs:"",reversedSignpostedAs:""},e.smooth=this.getEdgeSmoothVariant(e.from,e.to),this.newPathwayId--,e}}]),e}();k.newStopId=-1,k.newPathwayId=-1,k.edgeRoundness={};var T=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).network=void 0,a.handleDocumentKeydown=function(e){if(!a.props.isDialogShown&&8===e.keyCode){var t=a.network.getSelection();1!==t.nodes.length&&1!==t.edges.length||a.props.onItemDelete(t,function(e){e&&a.network.deleteSelected()})}},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=document.getElementById("vis");if(t){var a=this.props.data.stops.filter(function(e){return 1!==e.locationType}).map(function(t){var a=k.convertStopToNode(t);return a.x=e.props.lonK*t.stopLon+e.props.lonX,a.y=e.props.latK*t.stopLat+e.props.latX,a}),n=this.props.data.pathways.map(function(e){return k.convertPathwayToEdge(e)}),o={nodes:{borderWidth:2},edges:{width:1,selectionWidth:2,smooth:!0,font:{align:"middle",size:10}},manipulation:{enabled:!0,initiallyActive:!0,addNode:this.props.onStopAdd,editNode:this.props.onStopEdit,deleteNode:function(t,a){t.edges=s.getConnectedEdges(t.nodes[0]),e.props.onItemDelete(t,a)},addEdge:this.props.onPathwayAdd,editEdge:function(e,t){var a=s.body.data.edges.get(e.id);a.from=e.from,a.to=e.to,t(a=k.updatePathwayInEdge(a))},deleteEdge:this.props.onItemDelete},interaction:{dragView:!0,hoverConnectedEdges:!1,selectConnectedEdges:!1,zoomView:!0},physics:!1,locales:{gtfs:{edit:"Edit",del:"Delete selected",back:"Back",addNode:"Add Location",addEdge:"Add Pathway",editNode:"Edit Location",editEdge:"Edit Pathway",addDescription:"Click in an empty space to place a new location.",edgeDescription:"Click on a location and drag the pathway to another location to connect them.",editEdgeDescription:"Click on the control points and drag them to a location to connect to it.",createEdgeError:"Cannot link pathways to a cluster.",deleteClusterError:"Clusters cannot be deleted.",editClusterError:"Clusters cannot be edited."}},locale:"gtfs"},s=new u.a.Network(t,{nodes:a,edges:n},o);this.network=s,s.on("doubleClick",function(t){var a=s.getSelection(),n=s.body.data.edges,o=s.body.data.nodes;if(t.event.srcEvent.ctrlKey){var i=t.pointer.canvas;e.props.onFareZoneAdd(i,function(e,t){e.forEach(function(e){o.add(e)}),t.forEach(function(e){n.add(e)})})}else if(1===a.nodes.length)s.editNode();else if(1===a.edges.length){var l=n.get(a.edges[0]);e.props.onPathwayEdit(l,function(e){e&&n.update(e)})}else{var r=t.pointer.canvas,d={x:r.x,y:r.y};e.props.onStopAdd(d,function(e){e&&o.add(e)})}}),s.on("oncontext",function(e){e.event.preventDefault(),1===s.getSelection().edges.length&&s.editEdgeMode()}),s.on("dragEnd",function(t){if(0!==t.nodes.length){var a=t.nodes[0],n=t.pointer.canvas;e.props.onStopDragEnd(a,n)}}),document.addEventListener("keydown",this.handleDocumentKeydown)}}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleDocumentKeydown)}},{key:"render",value:function(){return o.a.createElement("div",{id:"vis"})}}]),t}(n.Component),N=a(31),I=(a(113),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).handleCancel=function(){a.props.onCancel()},a.handleApply=function(){![0,1,2].includes(a.state.locationType)||a.state.stopName?a.props.onApply(Object(N.a)({},a.props.stop,a.state)):alert("Selected location type must have a name")},a.handleParentStationChange=function(e){a.setState({parentStation:Number(e.target.value)})},a.handleLevelChange=function(e){a.setState({levelId:Number(e.target.value)})},a.handleLocationTypeChange=function(e){var t=-1;3===Number(e.target.value)?t=a.props.stations[0].stopId:4===Number(e.target.value)&&(t=a.props.platforms[0].stopId),a.setState({locationType:Number(e.target.value),parentStation:t})},a.handleWheelchairBoardingChange=function(e){a.setState({wheelchairBoarding:Number(e.target.value)})},a.handleStopNameChange=function(e){a.setState({stopName:e.target.value})},a.handlePlatformCodeChange=function(e){a.setState({platformCode:e.target.value})},a.handleSignpostedAsChange=function(e){a.setState({signpostedAs:e.target.value})},a.handleKeyDown=function(e){13===e.keyCode&&a.handleApply()},a.state={parentStation:e.stop.parentStation||-1,levelId:e.stop.levelId||-1,stopName:e.stop.stopName,locationType:e.stop.locationType,wheelchairBoarding:e.stop.wheelchairBoarding,platformCode:e.stop.platformCode,signpostedAs:e.stop.signpostedAs},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=[];this.props.stations.forEach(function(t){e.push(o.a.createElement("option",{key:t.stopId,value:t.stopId},t.stopName))});var t=[];this.props.platforms.forEach(function(e){t.push(o.a.createElement("option",{key:e.stopId,value:e.stopId},e.stopId,". ",e.stopName))});var a=[];a.push(o.a.createElement("option",{key:-1,value:-1},"None")),this.props.levels.forEach(function(e){a.push(o.a.createElement("option",{key:e.levelId,value:e.levelId},e.levelIndex," ",e.levelName))});var n=[];for(var s in m)["Platform","Station","Entrance/Exit"].includes(s)||n.push(o.a.createElement("option",{key:s,value:m[s]},s));var i=[];for(var l in v)i.push(o.a.createElement("option",{key:l,value:v[l]},l));return o.a.createElement("div",{className:"stop-dialog",onKeyDown:this.handleKeyDown},o.a.createElement("div",{className:"header"},"Location properties"),o.a.createElement("div",{className:"content"},o.a.createElement("div",null,"ID: ",this.props.stop.stopId),o.a.createElement("div",null,4===this.state.locationType?o.a.createElement("div",null,"Parent platform:"," ",o.a.createElement("select",{value:this.state.parentStation,onChange:this.handleParentStationChange},t)):o.a.createElement("div",null,"Parent station:"," ",o.a.createElement("select",{value:this.state.parentStation,onChange:this.handleParentStationChange},e)),o.a.createElement("div",null,"Level:"," ",o.a.createElement("select",{value:this.state.levelId,onChange:this.handleLevelChange},a)),[0,2].includes(this.state.locationType)&&o.a.createElement("div",null,"Location type: ",f[this.state.locationType]),[3,4].includes(this.state.locationType)&&o.a.createElement("div",null,"Location type:"," ",o.a.createElement("select",{value:this.state.locationType,onChange:this.handleLocationTypeChange},n)),o.a.createElement("div",null,"Name:"," ",o.a.createElement("input",{disabled:![3,4].includes(this.state.locationType),type:"text",value:this.state.stopName||"",onChange:this.handleStopNameChange})),[0,2].includes(this.state.locationType)&&o.a.createElement("div",null,"Platform code:"," ",o.a.createElement("input",{type:"text",value:this.state.platformCode||"",onChange:this.handlePlatformCodeChange})),[0].includes(this.state.locationType)&&o.a.createElement("div",null,"Signposted as:"," ",o.a.createElement("input",{type:"text",value:this.state.signpostedAs||"",onChange:this.handleSignpostedAsChange})),[0,2].includes(this.state.locationType)&&o.a.createElement("div",null,"Wheelchair boarding:"," ",o.a.createElement("select",{value:this.state.wheelchairBoarding,onChange:this.handleWheelchairBoardingChange},i)))),o.a.createElement("div",{className:"footer"},o.a.createElement("button",{onClick:this.handleCancel},"Cancel"),o.a.createElement("button",{onClick:this.handleApply},"Apply")))}}]),t}(n.Component)),x=(a(114),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).handleCancel=function(){a.props.onCancel()},a.handleApply=function(){if(a.state.traversalTime){var e=parseFloat(a.state.length||""),t=parseFloat(a.state.maxSlope||""),n=parseFloat(a.state.minWidth||"");a.props.onApply(Object(N.a)({},a.props.pathway,a.state,{length:isNaN(e)?void 0:e,maxSlope:isNaN(t)?void 0:t,minWidth:isNaN(n)?void 0:n}))}else alert("Traversal time is required")},a.handlePathwayModeChange=function(e){a.setState({pathwayMode:Number(e.target.value)})},a.handleIsBidirectionalChange=function(e){a.setState({isBidirectional:e.target.checked})},a.handleLengthChange=function(e){a.setState({length:e.target.value.replace(",",".").replace(/[^\d.]/i,"")})},a.handleTraversalTimeChange=function(e){a.setState({traversalTime:parseInt(e.target.value)})},a.handleStairCountChange=function(e){a.setState({stairCount:parseInt(e.target.value)})},a.handleMaxSlopeChange=function(e){a.setState({maxSlope:e.target.value.replace(",",".").replace(/[^\d.]/i,"")})},a.handleMinWidthChange=function(e){a.setState({minWidth:e.target.value.replace(",",".").replace(/[^\d.]/i,"")})},a.handleSignpostedAsChange=function(e){a.setState({signpostedAs:e.target.value})},a.handleReversedSignpostedAsChange=function(e){a.setState({reversedSignpostedAs:e.target.value})},a.handleKeyDown=function(e){13===e.keyCode&&a.handleApply()},a.state={pathwayMode:e.pathway.pathwayMode,isBidirectional:e.pathway.isBidirectional,length:e.pathway.length?e.pathway.length.toString():void 0,traversalTime:e.pathway.traversalTime,stairCount:e.pathway.stairCount,maxSlope:e.pathway.maxSlope?e.pathway.maxSlope.toString():void 0,minWidth:e.pathway.minWidth?e.pathway.minWidth.toString():void 0,signpostedAs:e.pathway.signpostedAs,reversedSignpostedAs:e.pathway.reversedSignpostedAs},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=[];for(var t in A)e.push(o.a.createElement("option",{key:t,value:A[t]},t));return o.a.createElement("div",{className:"pathway-dialog",onKeyDown:this.handleKeyDown},o.a.createElement("div",{className:"header"},"Pathway properties"),o.a.createElement("div",{className:"content"},o.a.createElement("div",null,"ID: ",this.props.pathway.pathwayId),o.a.createElement("div",null,o.a.createElement("div",null,"Location type:",o.a.createElement("select",{value:this.state.pathwayMode,onChange:this.handlePathwayModeChange},e)),o.a.createElement("div",null,o.a.createElement("label",null,"Is bidirectional:",o.a.createElement("input",{type:"checkbox",checked:this.state.isBidirectional,onChange:this.handleIsBidirectionalChange}))),o.a.createElement("div",null,"Length: ",o.a.createElement("input",{type:"text",value:this.state.length||"",onChange:this.handleLengthChange})," meters"),o.a.createElement("div",null,"Traversal time: ",o.a.createElement("input",{type:"text",value:this.state.traversalTime||"",onChange:this.handleTraversalTimeChange})," seconds"),o.a.createElement("div",null,"Stair count: ",o.a.createElement("input",{type:"text",value:this.state.stairCount||"",onChange:this.handleStairCountChange})),o.a.createElement("div",null,"Max slope: ",o.a.createElement("input",{type:"text",value:this.state.maxSlope||"",onChange:this.handleMaxSlopeChange})),o.a.createElement("div",null,"Min width: ",o.a.createElement("input",{type:"text",value:this.state.minWidth||"",onChange:this.handleMinWidthChange})," meters"),o.a.createElement("div",null,"Signposted as: ",o.a.createElement("input",{type:"text",value:this.state.signpostedAs||"",onChange:this.handleSignpostedAsChange})),o.a.createElement("div",null,"Reversed signposted as: ",o.a.createElement("input",{type:"text",value:this.state.reversedSignpostedAs||"",onChange:this.handleReversedSignpostedAsChange})))),o.a.createElement("div",{className:"footer"},o.a.createElement("button",{onClick:this.handleCancel},"Cancel"),o.a.createElement("button",{onClick:this.handleApply},"Apply")))}}]),t}(n.Component)),F=a(98),P=a.n(F),L=a(99),O=a.n(L),K=a(100),B=a.n(K),M=function(e){function t(e){var a;Object(l.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).mapRef=o.a.createRef(),a.handleDocumentKeydown=function(e){27===e.keyCode&&a.handleDialogCancel()},a.handleStopAddMode=function(e,t){e=k.prepareNewNode(e,a.state.stations,{latK:a.state.latK,latX:a.state.latX,lonK:a.state.lonK,lonX:a.state.lonX}),a.setState({selectedStop:{stop:e.stop,node:e,callback:t}})},a.handleStopEditMode=function(e,t){a.setState({selectedStop:{stop:e.stop,node:e,callback:t}})},a.handlePathwayAddMode=function(e,t){e=k.prepareNewEdge(e),a.setState({selectedPathway:{pathway:e.pathway,edge:e,callback:t}})},a.handlePathwayEditMode=function(e,t){a.setState({selectedPathway:{pathway:e.pathway,edge:e,callback:t}})},a.handleStopDialogApply=function(e){if(a.state.selectedStop){var t=a.state.data,n=t.stops.findIndex(function(t){return t.stopId===e.stopId});-1===n?t.stops.push(e):t.stops[n]=e;var o=k.attachStopToNode(e,a.state.selectedStop.node);a.state.selectedStop.callback(o),a.setState({selectedStop:null,data:t})}},a.handlePathwayDialogApply=function(e){if(a.state.selectedPathway){var t=a.state.data,n=t.pathways.findIndex(function(t){return t.pathwayId===e.pathwayId});-1===n?t.pathways.push(e):t.pathways[n]=e;var o=k.attachPathwayToEdge(e,a.state.selectedPathway.edge);a.state.selectedPathway.callback(o),a.setState({selectedPathway:null,data:t})}},a.handleItemDelete=function(e,t){e.nodes.some(function(e){var t=a.state.data.stops.find(function(t){return t.stopId===e});if(t&&![3,4].includes(t.locationType))return alert("You can't delete this location type"),!0;var n=a.state.data.stops.findIndex(function(t){return t.stopId===e});return-1!==n&&(a.state.data.stops.splice(n,1),a.state.deletedStopsIds.push(e)),!1})?t():(e.edges.forEach(function(e){var t=a.state.data.pathways.findIndex(function(t){return t.pathwayId===e});-1!==t&&(a.state.data.pathways.splice(t,1),a.state.deletedPathwaysIds.push(e))}),t(e))},a.handleDialogCancel=function(){a.state.selectedStop&&(a.state.selectedStop.callback(),a.setState({selectedStop:null})),a.state.selectedPathway&&(a.state.selectedPathway.callback(),a.setState({selectedPathway:null}))},a.handleSaveClick=function(){a.props.onSave(a.state.data,a.state.deletedStopsIds,a.state.deletedPathwaysIds)},a.handleCancelClick=function(){a.props.onCancel()},a.handleStopDragEnd=function(e,t){var n=a.state.data.stops.find(function(t){return t.stopId===e});n&&[3,4].includes(n.locationType)&&(n.stopLat=((t.y||0)-a.state.latX)/a.state.latK,n.stopLon=((t.x||0)-a.state.lonX)/a.state.lonK)},a.handleFareZoneAdd=function(e,t){var n=k.prepareNewNode({x:e.x,y:e.y},a.state.stations,{latK:a.state.latK,latX:a.state.latX,lonK:a.state.lonK,lonX:a.state.lonX});a.state.data.stops.push(n.stop);var o=k.prepareNewNode({x:e.x-100,y:e.y},a.state.stations,{latK:a.state.latK,latX:a.state.latX,lonK:a.state.lonK,lonX:a.state.lonX});a.state.data.stops.push(o.stop);var s=k.prepareNewEdge({from:n.id,to:o.id});s.pathway.pathwayMode=A.FareGate,s.pathway.isBidirectional=!1,s.pathway.traversalTime=10,s=k.attachPathwayToEdge(s.pathway,s),a.state.data.pathways.push(s.pathway);var i=k.prepareNewEdge({from:o.id,to:n.id});i.pathway.pathwayMode=A.ExitGate,i.pathway.isBidirectional=!1,i.pathway.traversalTime=10,i=k.attachPathwayToEdge(i.pathway,i),a.state.data.pathways.push(i.pathway),t([n,o],[s,i])};var n=[],s=[];if(e.data.stops.forEach(function(e){0===e.locationType&&s.push(e),1===e.locationType&&n.push(e)}),0===n.length)throw new Error("No station provided in input data");if(0===s.length)throw new Error("No platforms provided in input data");var i=0,r=0,c=0,h=0;e.data.stops.forEach(function(e){(!i||e.stopLat<i)&&(i=e.stopLat),(!r||e.stopLon<r)&&(r=e.stopLon),(!c||e.stopLat>c)&&(c=e.stopLat),(!h||e.stopLon>h)&&(h=e.stopLon)});var u=c-i,m=h-r,f=1e3/m,v=1e3*-r/m,g=-1e3/u,y=1e3*c/u;return k.edgeRoundness={},a.state={data:P()(e.data),selectedStop:null,selectedPathway:null,mapMarkers:[],stations:n,platforms:s,levels:e.data.levels,latK:g,latX:y,lonK:f,lonX:v,deletedStopsIds:[],deletedPathwaysIds:[]},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e,t=this,a=new google.maps.LatLngBounds;this.props.data.stops.forEach(function(e){a.extend({lat:e.stopLat,lng:e.stopLon})}),this.mapRef.current&&(this.props.mapDiv&&this.props.map?(this.mapRef.current.appendChild(this.props.mapDiv),this.props.map.fitBounds(a),e=this.props.map):(console.log("Google map initialized"),(e=new google.maps.Map(this.mapRef.current)).fitBounds(a))),this.props.data.stops.filter(function(e){return[0,2].includes(e.locationType)}).forEach(function(a){t.state.mapMarkers.push(new google.maps.Marker({map:e,position:{lat:a.stopLat,lng:a.stopLon},icon:0===a.locationType?B.a:O.a}))}),document.addEventListener("keydown",this.handleDocumentKeydown)}},{key:"componentWillUnmount",value:function(){this.state.mapMarkers.forEach(function(e){e.setMap(null)}),document.removeEventListener("keydown",this.handleDocumentKeydown)}},{key:"render",value:function(){return o.a.createElement("div",{className:"station-builder"},o.a.createElement("div",{className:"panel"},o.a.createElement("button",{className:"save",onClick:this.handleSaveClick},"Save"),o.a.createElement("button",{className:"cancel",onClick:this.handleCancelClick},"Cancel")),o.a.createElement("div",{className:"main"},o.a.createElement("div",{className:"graph"},o.a.createElement(T,{data:this.state.data,onStopAdd:this.handleStopAddMode,onStopEdit:this.handleStopEditMode,onItemDelete:this.handleItemDelete,onStopDragEnd:this.handleStopDragEnd,onPathwayAdd:this.handlePathwayAddMode,onPathwayEdit:this.handlePathwayEditMode,onFareZoneAdd:this.handleFareZoneAdd,latK:this.state.latK,latX:this.state.latX,lonK:this.state.lonK,lonX:this.state.lonX,isDialogShown:!(!this.state.selectedStop&&!this.state.selectedPathway)}),this.state.selectedStop&&o.a.createElement(I,{stop:this.state.selectedStop.stop,stations:this.state.stations,platforms:this.state.platforms,levels:this.state.levels,onCancel:this.handleDialogCancel,onApply:this.handleStopDialogApply}),this.state.selectedPathway&&o.a.createElement(x,{pathway:this.state.selectedPathway.pathway,onCancel:this.handleDialogCancel,onApply:this.handlePathwayDialogApply})),o.a.createElement("div",{className:"map",ref:this.mapRef})),(this.state.selectedStop||this.state.selectedPathway)&&o.a.createElement("div",{className:"dialog-bg",onClick:this.handleDialogCancel}))}}]),t}(n.Component),D=(a(185),function(){function e(){Object(l.a)(this,e)}return Object(r.a)(e,null,[{key:"fromGTFS",value:function(e,t){var a=this,n=e.split("\n"),o=[],s=[];return n.forEach(function(e){if(e){var n=a.csvToArray(e);if(0===s.length)n.forEach(function(e,t){s[t]=e});else{var i={};n.forEach(function(e,t){if(""!==e){var a=s[t];i[a]=e}}),o.push(t(i))}}}),o}},{key:"stopFromGTFS",value:function(e){return{stopId:Number(e.stop_id),stopLat:Number(e.stop_lat),stopLon:Number(e.stop_lon),parentStation:e.parent_station?Number(e.parent_station):void 0,stopName:e.stop_name,locationType:Number(e.location_type),wheelchairBoarding:Number(e.wheelchair_boarding),levelId:e.level_id?Number(e.level_id):void 0,platformCode:e.platform_code,signpostedAs:e.signposted_as}}},{key:"getStopGTFSHeader",value:function(){return"stop_id,stop_lat,stop_lon,stop_name,location_type,parent_station,wheelchair_boarding,level_id,platform_code,signposted_as"}},{key:"stopToGTFS",value:function(e){return e.stopId.toString()+","+e.stopLat.toString()+","+e.stopLon.toString()+","+this.escapeText(e.stopName||"")+","+e.locationType.toString()+","+(e.parentStation||"")+","+e.wheelchairBoarding.toString()+","+(e.levelId||"")+","+this.escapeText(e.platformCode||"")+","+this.escapeText(e.signpostedAs||"")}},{key:"pathwayFromGTFS",value:function(e){return{pathwayId:Number(e.pathway_id),fromStopId:Number(e.from_stop_id),toStopId:Number(e.to_stop_id),pathwayMode:Number(e.pathway_mode),isBidirectional:1===Number(e.is_bidirectional),length:e.length?Number(e.length):void 0,traversalTime:e.traversal_time?Number(e.traversal_time):void 0,stairCount:e.stair_count?Number(e.stair_count):void 0,maxSlope:e.max_slope?Number(e.max_slope):void 0,minWidth:e.min_width?Number(e.min_width):void 0,signpostedAs:e.signposted_as,reversedSignpostedAs:e.reversed_signposted_as}}},{key:"getPathwayGTFSHeader",value:function(){return"pathway_id,from_stop_id,to_stop_id,pathway_mode,is_bidirectional,length,traversal_time,stair_count,max_slope,min_width,signposted_as,reversed_signposted_as"}},{key:"pathwayToGTFS",value:function(e){return e.pathwayId.toString()+","+e.fromStopId.toString()+","+e.toStopId.toString()+","+e.pathwayMode.toString()+","+(e.isBidirectional?"1":"0")+","+(e.length||"")+","+(e.traversalTime||"")+","+(e.stairCount||"")+","+(e.maxSlope||"")+","+(e.minWidth||"")+","+this.escapeText(e.signpostedAs||"")+","+this.escapeText(e.reversedSignpostedAs||"")}},{key:"levelFromGTFS",value:function(e){return{levelId:Number(e.level_id),levelName:e.level_name,levelIndex:Number(e.level_index)}}},{key:"getLevelGTFSHeader",value:function(){return"level_id,level_name,level_index"}},{key:"levelToGTFS",value:function(e){return e.levelId.toString()+","+this.escapeText(e.levelName||"")+","+e.levelIndex.toString()}},{key:"escapeText",value:function(e){return e}},{key:"csvToArray",value:function(e){var t=[];return e.replace(/(?!\s*$)\s*(?:"([^"\\]*(?:\\[\S\s][^"\\]*)*)"|([^,\s\\]*(?:\s+[^,\s\\]+)*))\s*(?:,|$)/g,function(e,a,n,o){return void 0!==a?t.push(a.replace(/\\'/g,"'")):void 0!==n?t.push(n.replace(/\\"/g,'"')):void 0!==o&&t.push(o),""}),/,\s*$/.test(e)&&t.push(""),t}}]),e}()),R=a(52),V=a.n(R),X=a(53),G=a.n(X),j=a(101),U=function e(){Object(l.a)(this,e)};U.readUploadedFileAsText=function(){var e=Object(j.a)(G.a.mark(function e(t){var a;return G.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=new FileReader,e.abrupt("return",new Promise(function(e,n){a.onerror=function(){a.abort(),n(new DOMException("Error while parsing input file."))},a.onload=function(){e(a.result||"")},a.readAsText(t)}));case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();var q=a(102),Z=a.n(q),W=a(103),H=a.n(W),J=function(e){function t(e,a,n,o){var s;return Object(l.a)(this,t),(s=Object(d.a)(this,Object(p.a)(t).call(this))).pos_=void 0,s.text_=void 0,s.class_=void 0,s.map_=void 0,s.div_=void 0,s.onAdd=function(){var e=document.createElement("DIV");e.className=s.class_,e.innerHTML=s.text_,s.div_=e;var t=s.getProjection().fromLatLngToDivPixel(s.pos_);e.style.left=t.x+"px",e.style.top=t.y+"px",s.getPanes().floatPane.appendChild(e)},s.draw=function(){var e=s.getProjection().fromLatLngToDivPixel(s.pos_),t=s.div_;t&&(t.style.left=e.x+"px",t.style.top=e.y+"px")},s.onRemove=function(){s.div_&&s.div_.parentNode&&(s.div_.parentNode.removeChild(s.div_),s.div_=null)},s.hide=function(){s.div_&&(s.div_.style.visibility="hidden")},s.show=function(){s.div_&&(s.div_.style.visibility="visible")},s.toggle=function(){s.div_&&("hidden"===s.div_.style.visibility?s.show():s.hide())},s.toggleDOM=function(){s.getMap()?s.setMap(null):s.setMap(s.map_)},s.pos_=e,s.text_=a,s.class_=n,s.map_=o,s.div_=null,s.setMap(o),s}return Object(c.a)(t,e),t}(google.maps.OverlayView),Q=a(104),Y=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).mapRef=o.a.createRef(),a.requiredFiles=["stops.txt","pathways.txt"],a.handleFileChange=function(e){if(e.target.files)if(a.setState({isLoading:!0}),1===e.target.files.length){var t=e.target.files[0];a.handleZip(t)}else{var n=Array.from(e.target.files);a.handleFiles(n)}},a.handleStationSave=function(e,t,n){var o=a.state.stations;o&&(e.stops.forEach(function(e){var t=o.stops.findIndex(function(t){return t.stopId===e.stopId});-1!==t?o.stops[t]=e:o.stops.push(e)}),t.forEach(function(e){var t=o.stops.findIndex(function(t){return t.stopId===e});-1!==t&&o.stops.splice(t,1)}),e.pathways.forEach(function(e){var t=o.pathways.findIndex(function(t){return t.pathwayId===e.pathwayId});-1!==t?o.pathways[t]=e:o.pathways.push(e)}),n.forEach(function(e){var t=o.pathways.findIndex(function(t){return t.pathwayId===e});-1!==t&&o.pathways.splice(t,1)}),a.setState({mode:"STATION_SELECTION"}))},a.handleStationCancel=function(){a.setState({mode:"STATION_SELECTION"})},a.loadSampleData=function(){a.setState({isLoading:!0}),fetch("https://kostjerry.github.io/gtfs-station-builder/sample/gtfs-translations-pathways-vehicles-sample.zip").then(function(e){e.ok&&e.blob().then(function(e){a.handleZip(e)})})},a.handleStationSelect=function(e){if(a.state.stations){var t=a.state.stations.stops.find(function(t){return t.stopId===e});if(t){var n=a.state.stations.stops.filter(function(e){return Math.abs(e.stopLat-t.stopLat)<.005&&Math.abs(e.stopLon-t.stopLon)<.005&&1===e.locationType}).map(function(e){return e.stopId}),o=[];a.state.stations.stops.forEach(function(e){n.includes(e.parentStation||-1)&&0===e.locationType&&o.push(e.stopId)});var s=a.state.stations.stops.filter(function(e){return n.includes(e.parentStation||-1)||n.includes(e.stopId)||o.includes(e.parentStation||-1)}),i=s.map(function(e){return e.stopId}),l=a.state.stations.pathways.filter(function(e){return i.includes(e.fromStopId)||i.includes(e.toStopId)});a.setState({selectedStation:{stops:s,pathways:l,levels:a.state.stations.levels},mode:"STATION_BUILDER"})}}},a.handleLoadFeedClick=function(){a.state.mapObjects.forEach(function(e){e.setMap(null)}),a.setState({mode:"FILE_UPLADING",stations:null,selectedStation:null,untouchedFiles:{},mapObjects:[]})},a.handleDownloadClick=function(){if(a.state.stations){a.setState({isLoading:!0});var e=D.getStopGTFSHeader()+"\n",t=D.getPathwayGTFSHeader()+"\n",n=D.getLevelGTFSHeader()+"\n";a.state.stations.stops.forEach(function(t){e+=D.stopToGTFS(t)+"\n"}),a.state.stations.pathways.forEach(function(e){t+=D.pathwayToGTFS(e)+"\n"}),a.state.stations.levels.forEach(function(e){n+=D.levelToGTFS(e)+"\n"});var o=new V.a;for(var s in o.file("stops.txt",e),o.file("pathways.txt",t),o.file("levels.txt",n),a.state.untouchedFiles)o.file(s,a.state.untouchedFiles[s]);o.generateAsync({type:"blob",platform:"UNIX",compression:"DEFLATE",compressionOptions:{level:5}}).then(function(e){a.setState({isLoading:!1}),Object(Q.saveAs)(e,"gtfs.zip")})}},a.state={isLoading:!1,mode:"FILE_UPLADING",stations:null,selectedStation:null,untouchedFiles:{},mapObjects:[]},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"handleFiles",value:function(e){var t,a,n=this,o=[],s=[];t=Promise.all(e.filter(function(e){return-1!==n.requiredFiles.indexOf(e.name)}).map(function(e){return o.push(e.name),U.readUploadedFileAsText(e)})),a=Promise.all(e.filter(function(e){return-1!==e.name.indexOf(".txt")}).filter(function(e){return-1===n.requiredFiles.indexOf(e.name)}).map(function(e){return s.push(e.name),U.readUploadedFileAsText(e)})),this.checkRequiredFiles(o)?this.handleFilePromises(a,t,s,o):this.setState({isLoading:!1})}},{key:"handleZip",value:function(e){var t,a,n=this,o=[],s=[];V.a.loadAsync(e).then(function(e){var i=[];e.forEach(function(e,t){i.push(t)}),t=Promise.all(i.filter(function(e){return-1!==n.requiredFiles.indexOf(e.name)}).map(function(e){return o.push(e.name),e.async("text")})),a=Promise.all(i.filter(function(e){return-1!==e.name.indexOf(".txt")}).filter(function(e){return-1===n.requiredFiles.indexOf(e.name)}).map(function(e){return s.push(e.name),e.async("text")})),n.checkRequiredFiles(o)?n.handleFilePromises(a,t,s,o):n.setState({isLoading:!1})},function(e){alert(e.message)})}},{key:"handleFilePromises",value:function(e,t,a,n){var o=this,s={stops:[],pathways:[],levels:[]};e.then(function(e){var i={};e.forEach(function(e,t){i[a[t]]=e}),t.then(function(e){e.forEach(function(e,t){o.extractData(n[t],e,s)});var t=0;s.stops.forEach(function(e){Number(e.stopId)<t&&(t=Number(e.stopId))});var a=0;s.pathways.forEach(function(e){Number(e.pathwayId)<a&&(a=Number(e.pathwayId))}),k.newStopId=t-1,k.newPathwayId=a-1,o.setState({isLoading:!1,stations:s,mode:"STATION_SELECTION",untouchedFiles:i},function(){o.showStationsOnMap(s.stops)})})})}},{key:"showStationsOnMap",value:function(e){var t,a=this;if(this.state.map?t=this.state.map:(t=new google.maps.Map(this.mapRef.current),console.log("Google map initialized"),this.setState({map:t})),0===this.state.mapObjects.length){var n=new google.maps.LatLngBounds;e.filter(function(e){return 1===e.locationType}).forEach(function(e){var o={lat:e.stopLat,lng:e.stopLon};n.extend(o);var s=new google.maps.Marker({map:t,position:o,icon:Z.a}),i=new J(new google.maps.LatLng(e.stopLat,e.stopLon),e.stopName||"","station-name",t);google.maps.event.addListener(s,"click",function(){a.handleStationSelect(e.stopId)}),a.state.mapObjects.push(s),a.state.mapObjects.push(i)}),t.fitBounds(n)}}},{key:"checkRequiredFiles",value:function(e){return!this.requiredFiles.some(function(t){return-1===e.findIndex(function(e){return e===t})})||(alert("You missed some of the required files: ["+this.requiredFiles.join(", ")+"]"),!1)}},{key:"extractData",value:function(e,t,a){switch(e){case"stops.txt":a.stops=D.fromGTFS(t,D.stopFromGTFS);break;case"pathways.txt":a.pathways=D.fromGTFS(t,D.pathwayFromGTFS);break;case"levels.txt":a.levels=D.fromGTFS(t,D.levelFromGTFS)}}},{key:"render",value:function(){return o.a.createElement("div",{className:"container"},this.state.isLoading&&o.a.createElement("div",{className:"loader"}),"FILE_UPLADING"===this.state.mode&&o.a.createElement("div",{className:"controls"},o.a.createElement("img",{src:H.a,alt:""}),o.a.createElement("h2",null,"GTFS station builder"),o.a.createElement("div",null,"Select stops.txt, pathways.txt and levels.txt (you can also select a .zip containing those files):"),o.a.createElement("input",{type:"file",multiple:!0,onChange:this.handleFileChange}),o.a.createElement("br",null),o.a.createElement("div",null,"OR"),o.a.createElement("br",null),o.a.createElement("button",{onClick:this.loadSampleData},"LOAD SAMPLE DATA")),"STATION_SELECTION"===this.state.mode&&this.state.stations&&o.a.createElement("div",null,o.a.createElement("div",{className:"panel"},o.a.createElement("button",{className:"download",onClick:this.handleDownloadClick},"Download"),o.a.createElement("button",{className:"load",onClick:this.handleLoadFeedClick},"Load another feed"))),o.a.createElement("div",{className:"map"+("STATION_SELECTION"!==this.state.mode?" hidden":""),ref:this.mapRef}),"STATION_BUILDER"===this.state.mode&&this.state.selectedStation&&o.a.createElement(M,{data:this.state.selectedStation,onSave:this.handleStationSave,onCancel:this.handleStationCancel}))}}]),t}(n.Component);window.GtfsStationBuilder={mount:function(e,t){i.a.render(o.a.createElement(M,e),t)},unmount:function(e){i.a.unmountComponentAtNode(e)}};var z=document.getElementById("gtfs-station-builder-root");z&&i.a.render(o.a.createElement(Y,null),z)},50:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4wgODi84vCtShwAAAMVJREFUSMftlbENwjAUREPKdLAFtEyRiFBSwgaho6Uge8Ak3oIVMgAiBdWjOYkPMorskAIpJ30pts/35G9LSZJRfyEgBxpVPgSg4aUmZG8awZsMcYLCnKAY6h4ACN2XdoSWgPOBYmCf4bUNwqM+4StlPICqT4u+AZzy9r7WGF2BLAZwU8CsAwBw/gnA41kArXzb3i0yawfgpO+dfC0wDwGU9pKBqarSHMBS3ovGx+hn6lFtfBmwiX1Na7XrrnJAOf5fRr3pCeqXbYu/ZJnBAAAAAElFTkSuQmCC"},51:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4wgODwAgvJmYiwAAAOZJREFUSMftlDEOgjAUhltGNr2Frp4CIquj3gA3Vwe5h56kt/AKHMDI4PS5PGJDGmlpWYx/0oTS9nt//sJT6q+BAOy5nguutdZKKZV5HiyAVkbhCw9x1vJR64L3Gq5lE5LQyZxbkNIyWfo4D77kHtK79HWejUArwLjyThFLY8NwKOZ73grjBdSuArE/jBHO0XWhlu5APqXAQwDLkQIA1+gCrmiANdDJ6/3kiIZw4ARc5PkgSx2wCilQOaJYALVcPMBG9t5kfg7ujF/UWPtyYBcDN8BThgGqyY0rWfOatTP69KJU8N/QG1gTxBTCzhI8AAAAAElFTkSuQmCC"},99:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAcNJREFUeNp8kr8vQ1EUx799rVYbXiVIlPrNRFKJ+BFCYhRCSNjEwG4xmIjdYvAHGCwNq5UQkUgk2Egs0kgsLJRWOb7nvVulWif5vPfOved77n33fr34P8IGjfdCBZ4ioklDI/GTZ3JJ4uTgvxX7yCGRIrySLVJVSNxLbrWwhMygVDZRJnHYfNsyDb8Eco12ScVPsSZHOtkCr+wgLNLcLdI/KjI4LjIwJhKNyTYbtcPKNllTodc0mCVLXAEbsDHX1w8EQ0Ca5/aecQnbiNXVI3T/gGNk8AZpYvm+xYcyoV1GEcB8JAp8Mkml+f7MobnXwoJdjRH4tFwbDKvYNgl6dKIm4q5YKFLcUVMjupyLcaLVZ67JGSnXzXAVZD5+CwP+X6md+wxpgxdzz7jDhyv2eP6IviOZRML5RyceLdPgQrMTmi19Qb8ESooa5en6BmeuKfU/Ly0zrg5LnXJiBUkgcV9YnUhgnfNHboNzcpyd8hmHOXe8iKDcolIk0iHSMSRS2ynXzHXc1LyR6fz+1WQv26SBhlL3LVA0RVdGcwZS8bK5/j+hB7yatXQeuu/T/JU9Rc6qXU1C2khQT5tcGbs//iz8EmAAjZWhjml2ZOkAAAAASUVORK5CYII="}},[[105,1,2]]]);
//# sourceMappingURL=main.ad4bb2a0.chunk.js.map